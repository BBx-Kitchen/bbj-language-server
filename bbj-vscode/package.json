{
  "name": "bbj-lang",
  "version": "0.8.1",
  "publisher": "basis-intl",
  "displayName": " BBj Programming Language Support",
  "description": "BBj Language Support for Visual Studio Code",
  "license": "MIT",
  "icon": "images/icon.png",
  "type": "module",
  "engines": {
    "vscode": "^1.67.0"
  },
  "categories": [
    "Programming Languages"
  ],
  "repository": {
    "url": "https://github.com/BBx-Kitchen/bbj-language-server/",
    "type": "git",
    "directory": "bbj-vscode"
  },
  "homepage": "https://BBx-Kitchen.github.io/bbj-language-server/",
  "contributes": {
    "languages": [
      {
        "id": "bbj",
        "aliases": [
          "BBj",
          "bbj"
        ],
        "extensions": [
          ".bbj",
          ".bbjt",
          ".src",
          ".bbx"
        ],
        "icon": {
          "light": "./images/bbj-file-light.svg",
          "dark": "./images/bbj-file-dark.svg"
        },
        "configuration": "./bbj-language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "bbj",
        "scopeName": "source.bbj",
        "path": "./syntaxes/bbj.tmLanguage.json"
      }
    ],
    "snippets": [
      {
        "language": "bbj",
        "path": "./snippets/bbj.json"
      }
    ],
    "commands": [
      {
        "category": "BBj",
        "command": "bbj.config",
        "title": "Show the config.bbx file"
      },
      {
        "category": "BBj",
        "command": "bbj.properties",
        "title": "Show the BBj.properties file"
      },
      {
        "category": "BBj",
        "command": "bbj.em",
        "title": "Open Enterprise Manager"
      },
      {
        "category": "BBj",
        "command": "bbj.loginEM",
        "title": "Login to Enterprise Manager"
      },
      {
        "category": "BBj",
        "command": "bbj.run",
        "title": "Run As BBj Program",
        "icon": {
          "light": "./images/run-gui-light.svg",
          "dark": "./images/run-gui-dark.svg"
        },
        "key": "alt+g"
      },
      {
        "category": "BBj",
        "command": "bbj.runBUI",
        "title": "Run As BUI Program",
        "icon": {
          "light": "./images/run-bui-light.svg",
          "dark": "./images/run-bui-dark.svg"
        },
        "key": "alt+b"
      },
      {
        "category": "BBj",
        "command": "bbj.runDWC",
        "title": "Run As DWC Program",
        "icon": {
          "light": "./images/run-dwc-light.svg",
          "dark": "./images/run-dwc-dark.svg"
        },
        "key": "alt+d"
      },
      {
        "category": "BBj",
        "command": "bbj.showClasspathEntries",
        "title": "Show Available Classpath Entries"
      },
      {
        "category": "BBj",
        "command": "bbj.compile",
        "title": "Compile BBj Program",
        "icon": {
          "light": "./images/bbj-compile-light.svg",
          "dark": "./images/bbj-compile-dark.svg"
        },
        "key": "alt+c"
      },
      {
        "category": "BBj",
        "command": "bbj.configureCompileOptions",
        "title": "Configure Compile Options"
      },
      {
        "category": "BBj",
        "command": "bbj.refreshJavaClasses",
        "title": "Refresh Java Classes"
      },
      {
        "command": "bbj.denumber",
        "title": "Denumber BBj Program",
        "icon": {
          "light": "./images/bbj-denumber-light.svg",
          "dark": "./images/bbj-denumber-dark.svg"
        },
        "key": "alt+n"
      }
    ],
    "keybindings": [
      {
        "command": "bbj.run",
        "key": "alt+g"
      },
      {
        "command": "bbj.runBUI",
        "key": "alt+b"
      },
      {
        "command": "bbj.runDWC",
        "key": "alt+d"
      },
      {
        "command": "bbj.compile",
        "key": "alt+c"
      },
      {
        "command": "bbj.denumber",
        "key": "alt+n"
      }
    ],
    "menus": {
      "editor/context": [
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.run",
          "group": "BBj@1"
        },
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.runBUI",
          "group": "BBj@2"
        },
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.runDWC",
          "group": "BBj@3"
        },
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.compile",
          "group": "BBj@4"
        },
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.denumber",
          "group": "BBj@5"
        }
      ],
      "editor/title": [
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.run",
          "group": "navigation"
        },
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.runBUI",
          "group": "navigation"
        },
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.runDWC",
          "group": "navigation"
        },
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.compile",
          "group": "navigation@2"
        },
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.denumber",
          "group": "navigation@2"
        }
      ],
      "explorer/context": [
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.run",
          "group": "BBj@1"
        },
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.runBUI",
          "group": "BBj@2"
        },
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.runDWC",
          "group": "BBj@3"
        },
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.compile",
          "group": "BBj@4"
        },
        {
          "when": "(resourceLangId == bbj && resourceExtname != .bbjt) || resourceLangId == bbx",
          "command": "bbj.denumber",
          "group": "BBj@5"
        }
      ]
    },
    "configuration": {
      "type": "object",
      "title": "BBj configuration",
      "properties": {
        "bbj.debug": {
          "type": "boolean",
          "default": false,
          "description": "Enable debug logging in the BBj language server. Shows detailed diagnostics, class loading, and validation messages.",
          "scope": "window"
        },
        "bbj.home": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "description": "Specify the path to the BBj home directory",
          "scope": "window"
        },
        "bbj.classpath": {
          "type": "string",
          "default": "bbj_default",
          "description": "BBj Classpath entry name to use for starting applications (e.g., 'bbj_default', 'addon', 'barista'). Run 'BBj: Show Available Classpath Entries' to see all available options.",
          "scope": "window"
        },
        "bbj.em.url": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "description": "Enterprise Manager URL (e.g., http://localhost:8888). Used for EM login and web-based run commands.",
          "scope": "window"
        },
        "bbj.web.apps": {
          "type": "object",
          "default": {},
          "description": "A dict of bui apps where the key is the name of the bui app and the value is the config dict.",
          "scope": "window"
        },
        "bbj.web.AutoSaveUponRun": {
          "type": "boolean",
          "default": false,
          "description": "Auto Save upon run of BBj program",
          "scope": "window"
        },
        "bbj.formatter.indentWidth": {
          "type": "number",
          "default": 2,
          "description": "Set the indentation width",
          "scope": "window"
        },
        "bbj.formatter.removeLineContinuation": {
          "type": "boolean",
          "default": false,
          "description": "Enable/disable removing line continuations",
          "scope": "window"
        },
        "bbj.formatter.keywordsToUppercase": {
          "type": "boolean",
          "default": false,
          "description": "Enable/disable converting keywords to uppercase",
          "scope": "window"
        },
        "bbj.formatter.splitSingleLineIF": {
          "type": "boolean",
          "default": false,
          "description": "Enable/disable single line IF statements",
          "scope": "window"
        },
        "bbj.compiler.typeChecking.enabled": {
          "type": "boolean",
          "default": false,
          "description": "Enable static type checking (-t)",
          "scope": "window"
        },
        "bbj.compiler.typeChecking.warnings": {
          "type": "boolean",
          "default": false,
          "description": "Enable warnings about undeclared code (-W). Requires type checking to be enabled.",
          "scope": "window"
        },
        "bbj.compiler.typeChecking.configFile": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "description": "Configuration file for type checker to resolve USE statements (-c). Cannot be used with prefix directories.",
          "scope": "window"
        },
        "bbj.compiler.typeChecking.prefixDirectories": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "description": "Prefix directories for custom object resolution (-P). Cannot be used with config file.",
          "scope": "window"
        },
        "bbj.compiler.typeChecking.classpath": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "description": "Session-Specific Classpath for type-checking Java class references (-CP)",
          "scope": "window"
        },
        "bbj.compiler.lineNumbering.renumber": {
          "type": "boolean",
          "default": false,
          "description": "Renumber the generated program (-n)",
          "scope": "window"
        },
        "bbj.compiler.lineNumbering.startLine": {
          "type": [
            "number",
            "null"
          ],
          "default": null,
          "description": "Starting line number for programs without line numbers (-s)",
          "scope": "window"
        },
        "bbj.compiler.lineNumbering.interval": {
          "type": [
            "number",
            "null"
          ],
          "default": null,
          "description": "Line number increment for programs without line numbers (-i)",
          "scope": "window"
        },
        "bbj.compiler.lineNumbering.processRenum": {
          "type": "boolean",
          "default": false,
          "description": "Process renumbering commands in REM statements (--renum)",
          "scope": "window"
        },
        "bbj.compiler.lineNumbering.removeLineNumbers": {
          "type": "boolean",
          "default": false,
          "description": "Remove line numbers, inserting labels where needed (-D)",
          "scope": "window"
        },
        "bbj.compiler.output.directory": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "description": "Output directory for compiled files (-d)",
          "scope": "window"
        },
        "bbj.compiler.output.extension": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "description": "Append extension to output filenames (-x). Cannot be used with keepExtension.",
          "scope": "window"
        },
        "bbj.compiler.output.keepExtension": {
          "type": "boolean",
          "default": false,
          "description": "Keep the extension of input files (-X). Cannot be used with custom extension.",
          "scope": "window"
        },
        "bbj.compiler.output.forceOverwrite": {
          "type": "boolean",
          "default": false,
          "description": "Force overwriting of input files if output would conflict (-F)",
          "scope": "window"
        },
        "bbj.compiler.output.validateOnly": {
          "type": "boolean",
          "default": false,
          "description": "Validate only, do not write output files (-N)",
          "scope": "window"
        },
        "bbj.compiler.content.removeRem": {
          "type": "boolean",
          "default": false,
          "description": "Remove all REM statements (-r)",
          "scope": "window"
        },
        "bbj.compiler.content.protect": {
          "type": "boolean",
          "default": false,
          "description": "Generate protected program (-p)",
          "scope": "window"
        },
        "bbj.compiler.content.protectPassword": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "description": "Password for protected program. Empty = unclearable password.",
          "scope": "window"
        },
        "bbj.compiler.diagnostics.errorLog": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "description": "File to write error output (-e)",
          "scope": "window"
        },
        "bbj.compiler.diagnostics.verbose": {
          "type": "boolean",
          "default": false,
          "description": "Print debugging information (--verbose)",
          "scope": "window"
        },
        "bbj.typeResolution.warnings": {
          "type": "boolean",
          "default": true,
          "description": "Enable/disable type resolution warnings (CAST, USE, inheritance). Disable for heavily dynamic codebases where these warnings are noisy.",
          "scope": "window"
        },
        "bbj.diagnostics.suppressCascading": {
          "type": "boolean",
          "default": true,
          "description": "Suppress cascading linking and validation noise when parse errors exist. When enabled, a single syntax error shows only the actual error instead of 40+ downstream diagnostics.",
          "scope": "window"
        },
        "bbj.diagnostics.maxErrors": {
          "type": "number",
          "default": 20,
          "minimum": 1,
          "description": "Maximum number of parse errors displayed at once. Additional parse errors beyond this limit are hidden to reduce noise.",
          "scope": "window"
        },
        "bbj.configPath": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "description": "Path to config.bbx file. When not set, defaults to {bbj.home}/cfg/config.bbx. Set this to use a custom config.bbx location for PREFIX resolution.",
          "scope": "window"
        },
        "bbj.interop.host": {
          "type": "string",
          "default": "localhost",
          "description": "Java interop service hostname. Change this to connect to a remote java-interop instance.",
          "scope": "window"
        },
        "bbj.interop.port": {
          "type": "number",
          "default": 5008,
          "description": "Java interop service port number.",
          "scope": "window"
        }
      }
    }
  },
  "activationEvents": [
    "onLanguage:bbj",
    "onCommand:bbj.config",
    "onCommand:bbj.properties",
    "onCommand:bbj.em",
    "onCommand:bbj.loginEM",
    "onCommand:bbj.run",
    "onCommand:bbj.runBUI",
    "onCommand:bbj.runDWC",
    "onCommand:bbj.autoComment",
    "onCommand:bbj.compile",
    "onCommand:bbj.configureCompileOptions",
    "onCommand:bbj.denumber"
  ],
  "main": "./out/extension.cjs",
  "scripts": {
    "prepare": "npm run langium:generate && npm run build",
    "vscode:prepublish": "shx cp ../LICENSE ./LICENSE  && npm run esbuild-base -- --minify && npm run lint",
    "build": "tsc -b tsconfig.json && node ./esbuild.mjs",
    "watch": "concurrently -n tsc,esbuild -c blue,yellow \"tsc -b tsconfig.json --watch\" \"node ./esbuild.mjs --watch\"",
    "lint": "eslint src test --ext ts",
    "test": "vitest run",
    "test:watch": "vitest watch",
    "test:coverage": "vitest run --coverage",
    "esbuild-base": "esbuild ./src/extension.ts --bundle --outfile=out/main.js --external:vscode --format=cjs --platform=node",
    "esbuild": "npm run esbuild-base -- --sourcemap",
    "esbuild-watch": "npm run esbuild-base -- --sourcemap --watch",
    "test-compile": "tsc -p ./",
    "langium:generate": "langium generate",
    "langium:watch": "langium generate --watch"
  },
  "dependencies": {
    "@vscode/vsce": "^3.7.1",
    "chevrotain": "~11.0.3",
    "langium": "~4.1.3",
    "properties-file": "^3.6.3",
    "properties-reader": "^2.3.0",
    "vscode-jsonrpc": "^8.2.1",
    "vscode-languageclient": "^9.0.1",
    "vscode-uri": "^3.1.0"
  },
  "devDependencies": {
    "@types/node": "^22.0.0",
    "@types/vscode": "^1.67.0",
    "@typescript-eslint/eslint-plugin": "^5.62.0",
    "@typescript-eslint/parser": "^5.62.0",
    "@vitest/coverage-v8": "^1.6.1",
    "concurrently": "^8.2.2",
    "esbuild": "^0.25.12",
    "eslint": "^8.57.1",
    "langium-cli": "~4.1.0",
    "shx": "^0.3.4",
    "typescript": "^5.8.3",
    "vitest": "^1.6.1"
  }
}
