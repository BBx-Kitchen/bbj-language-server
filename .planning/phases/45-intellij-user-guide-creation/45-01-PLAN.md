---
phase: 45-intellij-user-guide-creation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - documentation/docs/intellij/index.md
  - documentation/docs/intellij/getting-started.md
  - documentation/docs/intellij/features.md
autonomous: true

must_haves:
  truths:
    - "IntelliJ Guide index page provides overview, quick links table, and requirements"
    - "Getting Started page documents installation from JetBrains Marketplace and .zip file"
    - "Getting Started page documents BBj Home auto-detection and initial setup"
    - "Getting Started page documents testing setup and running first program"
    - "Features page documents all working features: completion, diagnostics, hover, go-to-definition, structure view, run commands, syntax highlighting, Java interop"
    - "Features page documents signature help, comment toggling, bracket matching, spell checking"
  artifacts:
    - path: "documentation/docs/intellij/index.md"
      provides: "IntelliJ Guide landing page with overview and quick links"
      contains: "Quick Links"
    - path: "documentation/docs/intellij/getting-started.md"
      provides: "Installation and initial setup documentation"
      contains: "JetBrains Marketplace"
    - path: "documentation/docs/intellij/features.md"
      provides: "Comprehensive feature documentation"
      contains: "Code Completion"
  key_links:
    - from: "documentation/docs/intellij/index.md"
      to: "documentation/docs/intellij/getting-started.md"
      via: "markdown link in quick links table"
      pattern: "getting-started"
    - from: "documentation/docs/intellij/index.md"
      to: "documentation/docs/intellij/features.md"
      via: "markdown link in quick links table"
      pattern: "features"
---

<objective>
Write the IntelliJ Guide index page, Getting Started page, and Features page — replacing the "Coming Soon" stubs with comprehensive documentation based on the actual IntelliJ plugin implementation.

Purpose: IntelliJ users need an accurate guide to install, configure, and understand the full feature set of the BBj Language Support plugin. These three pages cover the welcome experience (IJUG-01) and feature overview (IJUG-02).

Output: Three complete documentation pages ready for the Docusaurus site.
</objective>

<execution_context>
@/Users/beff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/beff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/44-site-chrome/44-01-SUMMARY.md

Reference for structural consistency:
@documentation/docs/vscode/index.md
@documentation/docs/vscode/getting-started.md
@documentation/docs/vscode/features.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write IntelliJ Guide index page and Getting Started page</name>
  <files>documentation/docs/intellij/index.md, documentation/docs/intellij/getting-started.md</files>
  <action>
Replace the "Coming Soon" stub content in both files. Keep the existing frontmatter (sidebar_position, title, slug for index).

**index.md** — Mirror the structure of the VS Code index.md but for IntelliJ:
- Welcome paragraph mentioning "BBj Language Support plugin for IntelliJ IDEA"
- "What is BBj Language Support?" section listing key capabilities (completion, validation, navigation, hover, run commands)
- Quick Links table with links to getting-started, features, configuration, commands (use relative `./` paths like the VS Code guide)
- Requirements section: IntelliJ IDEA 2024.2+, BBj 25.00+, BBjServices running locally, Java 17+, Node.js 18+ (needed for the language server)
- Getting Help section with GitHub Issues link and BBj Documentation link

**getting-started.md** — Write comprehensive getting started guide (IJUG-01):

Prerequisites section:
- IntelliJ IDEA 2024.2 or higher (Community or Ultimate)
- BBj 25.00 or higher installed
- BBjServices running locally
- Java 17 or higher
- Node.js 18 or higher (auto-detected from PATH, or auto-downloaded by plugin)

Installation section with TWO subsections:
1. "From JetBrains Marketplace" — Open IntelliJ IDEA, go to Settings > Plugins > Marketplace tab, search "BBj", click Install on "BBj Language Support", restart IDE
2. "From .zip File" — For offline installation: download .zip from GitHub releases, go to Settings > Plugins > gear icon > "Install Plugin from Disk...", select the downloaded .zip file, restart IDE

Initial Configuration section:
- "BBj Home" subsection — explain the Settings path: Settings > Languages & Frameworks > BBj. The plugin auto-detects BBj Home if installed in a standard location. If not found, set path manually using the browse button. The plugin validates the path by checking for BBj.properties in the cfg/ subdirectory.
- "Node.js Runtime" subsection — explain Node.js is required for the language server. Plugin auto-detects from PATH. If not found, plugin can auto-download Node.js 18+. Manual path can be set in settings.
- "Enable BBj Language Service" — same as VS Code guide: enable in BBj Enterprise Manager.

Testing Your Setup section:
- Create new file with .bbj extension
- Type sample BBj code (print "Hello, World!")
- Should see: syntax highlighting, completion suggestions, validation errors
- Check status bar for "BBj Language Server" status widget showing "Ready"

Running Your First Program section:
- With a .bbj file open, press Alt+G to run as GUI
- Or right-click in editor and select "Run As BBj Program"
- Mention Alt+B for BUI and Alt+D for DWC (require EM authentication first)

Troubleshooting section:
- "Language Server Not Starting" — Check BBj Language Server tool window (bottom panel) for error output. Verify Node.js is available. Try Tools > Restart BBj Language Server.
- "Java Integration Not Working" — Requires BBjServices running, proper BBj Home, valid classpath. Check Java Interop status bar widget for connection state.
- "Missing Configuration Banners" — explain that editor banners appear for missing BBj Home, missing Node.js, and Java Interop unavailable states. Follow the banner instructions to resolve.

Next Steps section linking to Features and Configuration pages.

IMPORTANT: Do NOT mention VS Code-specific concepts (settings.json, Command Palette, Output panel). Use IntelliJ-specific terminology (Settings dialog, Tools menu, Tool Window).
  </action>
  <verify>
Verify both files:
- No "Coming Soon" text remains
- grep for "JetBrains Marketplace" in getting-started.md returns match
- grep for ".zip" in getting-started.md returns match (offline installation)
- grep for "auto-detect" in getting-started.md returns match (BBj Home auto-detection)
- grep for "Quick Links" in index.md returns match
- grep for "2024.2" in getting-started.md returns match (IntelliJ version requirement)
- Frontmatter preserved (sidebar_position, title, slug for index)
- All internal links use relative ./path format
  </verify>
  <done>
index.md has overview, quick links table, requirements, and help links. getting-started.md documents JetBrains Marketplace installation, .zip file installation, BBj Home auto-detection, Node.js setup, initial configuration, testing setup, first program run, and troubleshooting — all using IntelliJ-specific terminology.
  </done>
</task>

<task type="auto">
  <name>Task 2: Write IntelliJ Features page</name>
  <files>documentation/docs/intellij/features.md</files>
  <action>
Replace the "Coming Soon" stub content. Keep the existing frontmatter (sidebar_position: 3, title: Features).

Write comprehensive features documentation (IJUG-02) covering ALL working IntelliJ plugin features from the source analysis. Structure as follows:

**Code Completion section:**
- BBj keywords and statements
- Built-in functions with documentation
- Variable suggestions (global and local)
- Java class, method, and field completions (via Java interop service)
- Custom Java-interop icon mapping (BBj-specific completion icons)
- Completion triggers: after dot (.), new statements, function parameters, after USE statements

**Syntax Highlighting section:**
- Powered by TextMate grammars (bbj.tmLanguage.json, bbx.tmLanguage.json)
- Rich highlighting for: keywords/verbs, string literals, numbers, comments, class/method names, variable references, labels/line numbers
- Customizable via Settings > Editor > Color Scheme > BBj

**Validation and Diagnostics section:**
- Real-time error detection as you type
- Syntax errors, undefined references, access violations, type mismatches
- Errors appear as squiggles in the editor with detailed messages

**Hover Information section:**
- Function parameter signatures and documentation
- Variable type information
- Java class documentation (JavaDoc)
- Method signatures with parameter names

**Code Navigation section:**
- Go to Definition: Cmd+Click (macOS) / Ctrl+Click (Windows/Linux), or Cmd+B / Ctrl+B
- Works for classes, methods, variables, labels
- Supports cross-file navigation

**Signature Help section:**
- Parameter hints shown as you type function arguments
- Shows parameter names and types

**Document Symbols (Structure View) section:**
- Accessible via Structure tool window
- Shows classes, methods, variables, labels
- Quick navigation within large files
- Powered by LSP textDocument/documentSymbol

**Comment Toggling section:**
- Cmd+/ (macOS) or Ctrl+/ (Windows/Linux)
- Uses REM prefix for BBj comments

**Bracket Matching section:**
- Automatic matching for (), [], {}
- Highlight matching brackets when cursor is adjacent

**Spell Checking section:**
- Bundled BBj keyword dictionary
- BBj keywords not flagged as typos
- Standard IntelliJ spell checking for comments and strings

**Run Commands section (brief — full details in Commands page):**
- Run as GUI (Alt+G), BUI (Alt+B), DWC (Alt+D)
- Compile command
- Link to Commands page for full details

**Java Interop section:**
- Full Java class completions from configured classpath
- Method signatures with parameter information
- Field access completions
- JavaDoc documentation
- Requires BBjServices running and classpath configured
- Status bar widget shows connection state (Connected/Disconnected/Checking)

**File Type Support section — table format:**
| Extension | Description |
| .bbj | BBj source files |
| .bbjt | Tokenized BBj files |
| .src | BBj source files (legacy) |
| .bbx | BBx configuration files |
| .bbl | BBj library files (recognized for run commands) |

**Status Bar Widgets section:**
- Language Server Status: Ready, Starting, Stopped, Error states
- Java Interop Status: Connected, Disconnected, Checking states

**Editor Banners section:**
- Missing BBj Home banner
- Missing Node.js banner
- Java Interop Unavailable banner
- Server Crash banner

**Server Log Tool Window section:**
- BBj Language Server log panel in bottom tool window
- Console output from language server
- Useful for debugging issues

IMPORTANT: Do NOT include features that are VS Code-only (code formatting, snippets, find all references, workspace-wide symbol search). Only document features that exist in the IntelliJ plugin based on the source analysis.
  </action>
  <verify>
Verify the file:
- No "Coming Soon" text remains
- grep for "Code Completion" returns match
- grep for "Syntax Highlighting" returns match
- grep for "Diagnostics" returns match
- grep for "Hover" returns match
- grep for "Go to Definition" or "Code Navigation" returns match
- grep for "Structure View" or "Document Symbols" returns match
- grep for "Java Interop" returns match
- grep for "TextMate" returns match (syntax highlighting implementation detail)
- grep for "Status Bar" returns match
- Does NOT contain "Find All References" (VS Code only)
- Does NOT contain "Code Formatting" or "Formatter" (VS Code only)
- Does NOT contain "Snippets" (VS Code only)
- Frontmatter preserved (sidebar_position: 3, title: Features)
  </verify>
  <done>
Features page documents all working IntelliJ features: code completion, syntax highlighting (TextMate), diagnostics, hover, go-to-definition, signature help, structure view, comment toggling, bracket matching, spell checking, run commands, Java interop, file type support, status bar widgets, editor banners, and server log tool window. No phantom features from VS Code are included.
  </done>
</task>

</tasks>

<verification>
Phase-level checks for this plan:
1. All three files exist and contain no "Coming Soon" text
2. index.md links to all four subpages (getting-started, features, configuration, commands)
3. getting-started.md covers both JetBrains Marketplace and .zip installation methods
4. features.md covers all 8 required features from IJUG-02 (completion, diagnostics, hover, go-to-definition, structure view, run commands, syntax highlighting, Java interop)
5. No VS Code-specific terminology (settings.json, Command Palette, Output panel, VSIX)
6. Docusaurus site builds without errors: cd documentation && npm run build
</verification>

<success_criteria>
- IJUG-01 (Getting Started) requirements fully satisfied: JetBrains Marketplace installation, .zip file installation, BBj Home auto-detection, initial setup, first program run
- IJUG-02 (Features) requirements fully satisfied: all 8 features documented plus additional IntelliJ-specific features
- All pages use IntelliJ-specific terminology and navigation paths
- Internal links between pages work correctly
- Site builds successfully
</success_criteria>

<output>
After completion, create `.planning/phases/45-intellij-user-guide-creation/45-01-SUMMARY.md`
</output>
