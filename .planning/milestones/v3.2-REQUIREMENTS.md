# Requirements Archive: v3.2 Bug Fix Release

**Archived:** 2026-02-08
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements: BBj Language Server v3.2

**Defined:** 2026-02-07
**Core Value:** BBj developers get consistent, high-quality language intelligence in both VS Code and IntelliJ through a single shared language server.

## v3.2 Requirements

### Regressions

- [x] **REG-01**: BBjAPI() resolves correctly — no "Could not resolve reference to NamedElement named 'BBjAPI'" error, completion works on variables assigned from BBjAPI()
  - *Outcome: Built-in synthetic document loaded via loadAdditionalDocuments; linker fallback via IndexManager*
- [x] **REG-02**: Ctrl-click on class name in USE statement navigates to class definition via PREFIX path (#357)
  - *Outcome: Custom DefinitionProvider with nameProvider.getNameNode() for precise navigation*

### Parser/Lexer Bugs

- [x] **PARSE-01**: `void` keyword in method signature not flagged as unresolvable class (#356)
  - *Outcome: voidReturn boolean property in grammar; void treated as keyword not class reference*
- [x] **PARSE-02**: `mode$` and other `$`-suffixed variables inside DEF FN within class methods don't produce lexer errors (#355)
  - *Outcome: LONGER_ALT array [id, idWithSuffix] prevents keyword matching on suffixed identifiers*
- [x] **PARSE-03**: `select` statement with `from`/`where` clauses parses without false line-break errors (#295)
  - *Outcome: Full SelectStatement grammar with MODE, ERR, WHERE, SORTBY, LIMIT, field lists*
- [x] **PARSE-04**: `cast(BBjString[],...)` — array type notation `[]` in CAST expression parses correctly (#296)
  - *Outcome: CastExpression as PrimaryExpression with QualifiedClass + arrayDims brackets*

### Polish

- [x] **POL-01**: VS Code settings labels show "BBj" (not "Bbj") for product name (#315)
  - *Outcome: Description text fixed; header "Bbj:" accepted as VS Code platform limitation*
- [x] **POL-02**: Unresolvable file path in USE statement flagged as error on the file name portion (#172)
  - *Outcome: checkUsedClassExists with searched PREFIX paths in error message; PREFIX reconciliation with binary file detection*

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| REG-01 | Phase 32 | Complete |
| REG-02 | Phase 32 | Complete |
| PARSE-01 | Phase 33 | Complete |
| PARSE-02 | Phase 33 | Complete |
| PARSE-03 | Phase 33 | Complete |
| PARSE-04 | Phase 33 | Complete |
| POL-01 | Phase 34 | Complete |
| POL-02 | Phase 34 | Complete |

**Coverage:**
- v3.2 requirements: 8 total
- Shipped: 8
- Adjusted: 0
- Dropped: 0

---

## Milestone Summary

**Shipped:** 8 of 8 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-02-08 as part of v3.2 milestone completion*
