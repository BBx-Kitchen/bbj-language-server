---
phase: 32-regression-fixes
plan: 03
type: execute
wave: 2
depends_on: ["32-01", "32-02"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User has manually verified BBjAPI() resolution in VS Code"
    - "User has manually verified BBjAPI() resolution in IntelliJ"
    - "User has manually verified USE statement Ctrl-click in VS Code"
    - "User has manually verified USE statement Ctrl-click in IntelliJ"
    - "No regressions observed in either IDE"
  artifacts: []
  key_links: []
---

<objective>
Manual verification of both regression fixes in VS Code and IntelliJ IDEs.

Purpose: Per user decision, manual sign-off is required before moving to Phase 33. Both regressions must be verified in BOTH IDEs since the language server is shared. Automated tests cover correctness; manual testing covers real-world IDE integration.

Output: User confirmation that both regressions are fixed, or specific issue reports for further iteration.
</objective>

<execution_context>
@/Users/beff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/beff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/32-regression-fixes/32-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
BBjAPI() built-in resolution (Plan 01) and USE statement Ctrl-click navigation (Plan 02) have been implemented and pass automated tests.
  </what-built>
  <how-to-verify>

## Manual Test Checklist

### Prerequisites
- Build the language server: `cd bbj-vscode && npm run build`
- For VS Code: Launch extension via F5 (Extension Development Host) or install the built VSIX
- For IntelliJ: Build and run the plugin via Gradle (`:runIde`) or install built ZIP

---

### REG-01: BBjAPI() Resolution

**Test 1: Basic BBjAPI() assignment (VS Code)**
1. Open or create a .bbj file
2. Type: `api! = BBjAPI()`
3. Verify: No red/yellow squiggly underline on `BBjAPI`
4. Verify: Hover over `api!` shows type information (BBjAPI)

**Test 2: Case-insensitive BBjAPI() (VS Code)**
1. In the same file, type: `api2! = BbJaPi()`
2. Verify: No linker error on `BbJaPi`

**Test 3: BBjAPI() completion chain (VS Code)**
1. Type: `api! = BBjAPI()`
2. On next line, type: `api!.`
3. Verify: Completion popup appears (methods depend on Java interop availability)
4. If Java interop is running: should show getThinClient(), getConfig(), etc.
5. If Java interop is NOT running: completion may be empty (expected -- methods come from interop)

**Test 4: Repeat Tests 1-3 in IntelliJ**
- Same steps, same expected outcomes

---

### REG-02: USE Statement Navigation

**Test 5: Ctrl-click on class in USE statement (VS Code)**
1. Ensure you have a project with at least two .bbj files where one USEs a class from the other
2. Example setup:
   - File `widgets.bbj` containing: `class public MyWidget` ... `classend`
   - File `main.bbj` containing: `use ::widgets.bbj::MyWidget`
3. In `main.bbj`, Ctrl-click (Cmd-click on macOS) on `MyWidget` in the USE statement
4. Verify: Editor navigates to `widgets.bbj` and the cursor is on or near the `class public MyWidget` declaration line

**Test 6: Navigation to class declaration line, not file start (VS Code)**
1. If `widgets.bbj` has content before the class declaration (e.g., REM comments, other code)
2. Ctrl-click on the class name in USE statement
3. Verify: Cursor jumps to the class declaration line, NOT to line 1 of the file

**Test 7: USE with unresolvable file (VS Code)**
1. Type: `use ::nonexistent.bbj::FakeClass`
2. Ctrl-click on `FakeClass`
3. Verify: No crash. Editor may show "no definition found" or similar info -- should not hang or error

**Test 8: Repeat Tests 5-7 in IntelliJ**
- Same steps, same expected outcomes

---

### Regression Check

**Test 9: Existing navigation still works (VS Code)**
1. In a file with a class and a `new ClassName()` call, Ctrl-click on `ClassName`
2. Verify: Navigates to class declaration (same behavior as before)

**Test 10: Java USE navigation unchanged (VS Code)**
1. Type: `use java.util.HashMap`
2. Ctrl-click on `HashMap` (requires Java interop running)
3. Verify: Navigates to Java class definition (or shows info if interop not running)

**Test 11: General diagnostics check (both IDEs)**
1. Open a typical BBj project
2. Verify: No new unexpected errors or warnings in files that were clean before
3. Pay attention to: BBjAPI usages, USE statements, class references

  </how-to-verify>
  <resume-signal>Type "approved" if both regressions are fixed in both IDEs. If issues found, describe them and they will be addressed in a gap closure plan.</resume-signal>
</task>

</tasks>

<verification>
User confirmation that all manual test scenarios pass in both VS Code and IntelliJ.
</verification>

<success_criteria>
- User types "approved" after verifying all test scenarios
- Both REG-01 and REG-02 are confirmed fixed in both IDEs
- No new regressions observed
</success_criteria>

<output>
After completion, create `.planning/phases/32-regression-fixes/32-03-SUMMARY.md`
</output>
